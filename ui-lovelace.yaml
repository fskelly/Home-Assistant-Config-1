resources:
  - url: /local/custom-cards/card-tools.js
    type: js
  - url: /local/custom-cards/popup-card.js
    type: js
  
  - url: /community_plugin/calendar-card/calendar-card.js
    type: module
  - url: /community_plugin/custom-header/custom-header.js
    type: module
  - url: /community_plugin/group-card/group-card.js
    type: module
  - url: /community_plugin/lovelace-auto-entities/auto-entities.js
    type: module
  - url: /community_plugin/lovelace-dummy-entity-row/dummy-entity-row.js
    type: module
  - url: /community_plugin/lovelace-gui-sandbox/gui-sandbox.js
    type: module
  - url: /community_plugin/lovelace-layout-card/layout-card.js
    type: module
  - url: /community_plugin/lovelace-slider-entity-row/slider-entity-row.js
    type: module
  - url: /community_plugin/lovelace-swipe-navigation/swipe-navigation.js
    type: js
  - url: /community_plugin/lovelace-template-entity-row/template-entity-row.js
    type: module
  - url: /community_plugin/simple-thermostat/simple-thermostat.js
    type: module
  - url: /community_plugin/swipe-card/swipe-card.js
    type: module

swipe_nav:
  wrap: true
  animate: swipe
  prevent_default: true
  swipe_amount: 15
  
custom_header:
  exceptions:
    - conditions:
        user: "Kitchen Tablet"
      config:
        disable_sidebar: true
        footer_mode: true
        compact_mode: true
        options_hide: true
        default_tab: kitchen_home
        show_tabs: 'kitchen_home, kitchen_lights, kitchen_map, kitchen_thermostat'

title: The Nutty Home
views:
  - title: Main
    icon: 'mdi:home'
    panel: false
    path: main
    cards:
      - type: 'custom:swipe-card'
        cards:
          - entity: climate.basement
            hide:
              mode: true
            icon: 'mdi:thermostat'
            name: Basement
            sensors: null
            step_size: 1
            type: 'custom:simple-thermostat'
          - entity: climate.lower
            hide:
              mode: true
            icon: 'mdi:thermostat'
            name: Main Floor
            sensors: null
            step_size: 1
            type: 'custom:simple-thermostat'
          - entity: climate.upper
            hide:
              mode: true
            icon: 'mdi:thermostat'
            name: Upstairs
            sensors: null
            step_size: 1
            type: 'custom:simple-thermostat'
        parameters:
          effect: cube
          initialSlide: 1
          scrollbar:
            draggable: true
            hide: false
            snapOnRelease: true
          spaceBetween: 8
      - name: Family Calendar
        type: 'custom:calendar-card'
        entities:
          - calendar.nussbaum_family_calendar
        startFromToday: true
        numberOfDays: 30
        showLocation: true
        highlightToday: true
        hidePastEvents: true
        timeFormat: h:mm a
      - entity: weather.dark_sky
        name: Weather
        type: weather-forecast
      - type: custom:auto-entities
        card:
          title: What's On/Open
          type: entities
          show_header_toggle: false
        show_empty: true
        sort:
          method: last_changed
          reverse: true
        filter:
          include:
            - domain: light
              options:
                type: custom:slider-entity-row
                toggle: true
                secondary_info: last-changed
            - domain: switch
              options:
                secondary_info: last-changed
            - domain: fan
              options:
                secondary_info: last-changed
            - domain: cover
              options:
                secondary_info: last-changed
          exclude:
            - attributes:
                hidden: true
            - attributes:
                type: browser_mod
            - state: "off"
            - state: "closed"
            - state: "unavailable"
            - entity_id: "*_do_not_disturb_switch"
            - entity_id: "*_repeat_switch"
            - entity_id: "*_shuffle_switch"
            - entity_id: "*_bathroom_fan"
            - entity_id: switch.basement_stair_lights
            - entity_id: switch.pool_pump_new
            - entity_id: switch.pool_cleaner_new
            - entity_id: switch.pool_heater_new
            - entity_id: switch.pool_fill_valve
            - entity_id: switch.pool_drain_valve
            - entity_id: switch.patio_lights
            - entity_id: switch.smartthings_patio_lights_outlet
            - entity_id: light.dimmer_in_family_room
            - entity_id: switch.pool_heater
            - entity_id: switch.pool_pump
            - entity_id: switch.pool_cleaner
            - entity_id: switch.coffee_maker_bold_setting
            - entity_id: switch.neato_schedule
  - title: Lights
    icon: 'mdi:lightbulb'
    path: lights
    cards:
      - title: Ground Floor
        type: entities
        entities:
          - name: Family Room
            type: custom:slider-entity-row
            entity: light.family_room_light
            toggle: true
          - name: Kitchen Table
            type: custom:slider-entity-row
            entity: light.kitchen_table_light
            toggle: true
      - title: Upstairs
        type: entities
        entities:
          - name: Master Bath
            type: custom:slider-entity-row
            entity: light.master_bath
            toggle: true
          - name: Master Toilet
            type: custom:slider-entity-row
            entity: light.master_toilet
            toggle: true
          - name: Mayson's Room
            type: custom:slider-entity-row
            entity: light.maysons
            toggle: true
          - name: Guest Room
            type: custom:slider-entity-row
            entity: light.guest_bedroom
            toggle: true
          - name: Office
            type: custom:slider-entity-row
            entity: light.office_light
            toggle: true
      - title: Basement
        type: entities
        entities:
          - name: TV
            type: custom:slider-entity-row
            entity: light.basement_tv
            toggle: true
          - name: Main
            type: custom:slider-entity-row
            entity: light.basement
            toggle: true
          - name: Bar
            type: custom:slider-entity-row
            entity: light.bar
            toggle: true
          - name: Pool Table
            entity: switch.pool_table_light
      - title: Outside
        type: entities
        entities:
          - name: Front
            entity: switch.front_lights
          - name: Deck
            type: custom:slider-entity-row
            entity: light.deck
            toggle: true
          - name: Back
            type: custom:slider-entity-row
            entity: light.back
            toggle: true
          - name: Gazebo
            type: custom:slider-entity-row
            entity: light.gazebo
            toggle: true
      - title: Garage
        type: entities
        entities:
          - name: Garage
            entity: switch.garage_lights
  - title: Ground Floor
    icon: 'mdi:home-floor-g'
    path: main_floor_view
    cards:
      - title: Kitchen
        type: entities
        entities:
          - light.kitchen_table_light
          - switch.coffee_maker
          - switch.coffee_maker_bold_setting
        show_header_toggle: false
      - title: Family Room
        type: entities
        entities:
          # - switch.computer_light
          - light.family_room_light
  - title: Upstairs
    icon: mdi:home-floor-2
    path: upstairs_view
    cards:
      - title: Master Bathroom
        type: entities
        entities:
          - light.master_bath
          - light.master_toilet
          - switch.master_bathroom_fan
          - switch.master_bath_outlet
          # - binary_sensor.whirlpool
          - sensor.master_bath_humidity
          - sensor.master_bath_temperature
          - sensor.master_bath_luminance
          - binary_sensor.master_bath_motion
          - sensor.master_bath_battery
      - title: Office
        type: entities
        entities:
          - light.office_light
      - title: Upstairs Bathroom
        type: entities
        entities:
          - light.upstairs_bathroom_main
          - light.upstairs_bathroom_vanity
          - switch.upstairs_bathroom_fan
          - sensor.upstairs_bathroom_humidity
          - sensor.upstairs_bathroom_temperature
          - sensor.upstairs_bathroom_luminance
          - binary_sensor.upstairs_bathroom_motion
          - sensor.upstairs_bathroom_battery
      - title: Mayson's Bedroom
        type: entities
        entities:
          - light.maysons
          - switch.maysons_fan
          - binary_sensor.maysons_motion
          - sensor.maysons_luminance
          - sensor.maysons_battery
      - title: Guest Bedroom
        type: entities
        entities:
          - light.guest_bedroom
  - title: Basement
    icon: 'mdi:home-floor-b'
    path: basement_view
    cards:
      - entities:
          - switch.basement_stair_lights
          - light.basement_tv
          - light.basement
          - light.bar
          - switch.pool_table_light
          - switch.basement_tv
          - switch.xbox
        title: Basement
        type: entities
  - title: Garage
    icon: 'mdi:garage'
    path: garage_view
    cards:
      - title: Garage
        type: entities
        entities:
          - switch.garage_lights
          - cover.main_garage_door
      - title: Garage Fridge
        type: entities
        show_header_toggle: false
        entities:
          - sensor.garage_fridge_temp
          - sensor.garage_freezer_temp
          - sensor.garage_fridge_compressor_temp
          - binary_sensor.garage_fridge_heater
          - binary_sensor.garage_fridge_compressor_heater
      - title: MKX
        type: entities
        show_header_toggle: false
        entities:
          - device_tracker.smartstart_90947
          - switch.smartstart_90947
          - lock.smartstart_90947
      - title: G35
        type: entities
        show_header_toggle: false
        entities:
          - device_tracker.smartstart_706837
          - switch.smartstart_706837
          - lock.smartstart_706837
      - title: Suburban
        type: entities
        show_header_toggle: false
        entities:
          - device_tracker.smartstart_1695751
          - switch.smartstart_1695751
          - lock.smartstart_1695751
  - title: Outside
    icon: 'mdi:pine-tree'
    path: outside_view
    cards:
      - entities:
          - switch.front_lights
          - light.deck
          - light.back
          - light.gazebo
          - switch.patio_lights
          - switch.bird_bath
          - switch.fountain
        title: Outside
        type: entities
  - title: Cameras
    icon: mdi:cctv
    path: cameras
    cards:
      - type: picture-glance
        entities: []
        camera_image: camera.gate
        camera_view: live
      - type: picture-glance
        entities: []
        camera_image: camera.pool
        camera_view: live
  - title: Presence
    icon: 'mdi:account-switch'
    path: presence_view
    cards:
      - title: Home
        type: entities
        show_header_toggle: false
        entities:
          - binary_sensor.presence_all
          - sensor.day_night
          - input_boolean.guest_mode
          - input_boolean.pool_party_mode
      - title: Chris
        type: entities
        show_header_toggle: false
        entities:
          - binary_sensor.presence_chris
          - device_tracker.chris_phone_gps
          - device_tracker.smartstart_706837
      - title: Melissa
        type: entities
        show_header_toggle: false
        entities:
          - binary_sensor.presence_melissa
          - device_tracker.melissa_phone_gps
          - device_tracker.smartstart_90947
      - title: Mayson
        type: entities
        show_header_toggle: false
        entities:
          - binary_sensor.mayson_in_bed
      - title: Chris and Melissa
        type: entities
        show_header_toggle: false
        entities:
          - device_tracker.smartstart_1695751
          - sensor.master_count
      - title: Master Bed
        type: entities
        show_header_toggle: false
        entities:
          - binary_sensor.master_bed_any
          - binary_sensor.master_bed_all
          - binary_sensor.master_bed_someone
          - binary_sensor.master_bed_chris
          - binary_sensor.master_bed_melissa
          - sensor.master_bed_count
  - title: System
    icon: 'mdi:server'
    path: system_view
    cards:
      - title: Home Assistant
        type: entities
        show_header_toggle: false
        entities:
          - sensor.current_version
          - sensor.latest_version
          - sensor.ssl_certificate_expiry
          - sensor.hacs
          - sensor.load_1m
          - sensor.load_5m
          - sensor.load_15m
          - sensor.memory_use_percent
          - sensor.disk_use_percent
      - name: Devices
        type: custom:auto-entities
        card:
          title: Devices
          type: entities
          show_header_toggle: false
        sort:
          method: name
        filter:
          include:
            - domain: binary_sensor
              attributes:
                device_class: connectivity
      - name: Lovelace Sandbox
        type: custom:gui-sandbox
  - !include /config/lovelace/kitchen_tablet.yaml
  - title: Mayson's Electronics Time
    icon: 'mdi:av-timer'
    cards:
      - title: Mayson's Electronics Time
        type: entities
        show_header_toggle: false
        entities:
          - var.mayson_allowed_electronics
          - var.mayson_remaining_electronic_time
          - input_boolean.mayson_update_allowed_electronics
          - input_number.mayson_update_remaining_electronic_time
          - input_text.mayson_electronic_time_update_pin
          - script.update_mayson_electronics_time
  - title: Experiment
    icon: 'mdi:beaker'
    cards:
      - title: test light
        type: glance
        entities: 
          - light.back
          - switch.garage_lights
  - title: Kitchen Tablet Home
    icon: 'mdi:home'
    panel: true
    path: kitchen_home
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - name: Weather
            type: weather-forecast
            entity: weather.dark_sky
          - title: Family Calendar
            type: 'custom:calendar-card'
            entities:
              - calendar.nussbaum_family_calendar
            startFromToday: true
            numberOfDays: 30
            showLocation: false
            showLocationIcon: true
            highlightToday: true
            hidePastEvents: true
            timeFormat: h:mm a
          - break
          - type: custom:auto-entities
            card:
              title: What's On/Open
              type: entities
              show_header_toggle: false
            show_empty: true
            sort:
              method: last_changed
              reverse: true
            filter:
              include:
                - domain: light
                  options:
                    type: custom:slider-entity-row
                    toggle: true
                    secondary_info: last-changed
                - domain: switch
                  options:
                    secondary_info: last-changed
                - domain: fan
                  options:
                    secondary_info: last-changed
                - domain: cover
                  options:
                    secondary_info: last-changed
              exclude:
                - attributes:
                    hidden: true
                - attributes:
                    type: browser_mod
                - state: "off"
                - state: "closed"
                - state: "unavailable"
                - entity_id: "*_do_not_disturb_switch"
                - entity_id: "*_repeat_switch"
                - entity_id: "*_shuffle_switch"
                - entity_id: "*_bathroom_fan"
                - entity_id: switch.basement_stair_lights
                - entity_id: switch.pool_pump_new
                - entity_id: switch.pool_cleaner_new
                - entity_id: switch.pool_heater_new
                - entity_id: switch.pool_fill_valve
                - entity_id: switch.pool_drain_valve
                - entity_id: switch.patio_lights
                - entity_id: switch.smartthings_patio_lights_outlet
                - entity_id: light.dimmer_in_family_room
                - entity_id: switch.pool_heater
                - entity_id: switch.pool_pump
                - entity_id: switch.pool_cleaner
                - entity_id: switch.coffee_maker_bold_setting
                - entity_id: switch.neato_schedule
  - title: Kitchen Tablet Lights
    icon: 'mdi:lightbulb'
    panel: false
    path: kitchen_lights
    cards:
      - title: Ground Floor
        type: entities
        entities:
          - name: Family Room
            type: custom:slider-entity-row
            entity: light.family_room_light
            toggle: true
          - name: Kitchen Table
            type: custom:slider-entity-row
            entity: light.kitchen_table_light
            toggle: true
      - title: Upstairs
        type: entities
        entities:
          - name: Master Bath
            type: custom:slider-entity-row
            entity: light.master_bath
            toggle: true
          - name: Master Toilet
            type: custom:slider-entity-row
            entity: light.master_toilet
            toggle: true
          - name: Mayson's Room
            type: custom:slider-entity-row
            entity: light.maysons
            toggle: true
          - name: Guest Room
            type: custom:slider-entity-row
            entity: light.guest_bedroom
            toggle: true
          - name: Office
            type: custom:slider-entity-row
            entity: light.office_light
            toggle: true
      - title: Basement
        type: entities
        entities:
          - name: TV Area
            type: custom:slider-entity-row
            entity: light.basement_tv
            toggle: true
          - name: Main Area
            type: custom:slider-entity-row
            entity: light.basement
            toggle: true
          - name: Bar
            type: custom:slider-entity-row
            entity: light.bar
            toggle: true
          - name: Pool Table
            entity: switch.pool_table_light
          - name: Bathroom
            entity: switch.basement_bathroom_light
          - name: Shower
            entity: switch.basement_shower_light
      - title: Outside
        type: entities
        entities:
          - name: Front
            entity: switch.front_lights
          - name: Deck
            type: custom:slider-entity-row
            entity: light.deck
            toggle: true
          - name: Back
            type: custom:slider-entity-row
            entity: light.back
            toggle: true
          - name: Gazebo
            type: custom:slider-entity-row
            entity: light.gazebo
            toggle: true
      - title: Garage
        type: entities
        entities:
          - name: Garage
            entity: switch.garage_lights
  - title: Kitchen Tablet Map
    icon: 'mdi:map-clock'
    panel: true
    path: kitchen_map
    cards:
      - type: custom:layout-card
        layout: grid
        min_columns: 2
        max_columns: 2
        cards:
          - type: map
            aspect_ratio: 16x5
            gridcol: 1/3
            gridrow: 1
            entities:
              - device_tracker.chris_phone_gps
              - device_tracker.melissa_phone_gps
              - zone.home
              - zone.chris_work
              - zone.melissa_s_work_office
              - zone.melissa_s_work_southdale
          - type: custom:auto-entities
            card:
              title: Chris
              type: entities
              show_header_toggle: false
            gridcol: 1
            gridrow: 2
            show_empty: true
            filter:
              include:
                - entity_id: sensor.chris_to_home
                  options:
                    name: Travel Time to Home
                - entity_id: sensor.to_chris_office
                  options:
                    name: Travel Time to Work
              exclude:
                - state: "< 5"
          - type: custom:auto-entities
            card:
              title: Melissa
              type: entities
              show_header_toggle: false
            gridcol: 2
            gridrow: 2
            show_empty: true
            filter:
              include:
                - entity_id: sensor.melissa_to_home
                  options:
                    name: Travel Time to Home
                - entity_id: sensor.to_melissa_s_office
                  options:
                    name: Travel Time to Work
                - entity_id: sensor.to_melissa_s_southdale_office
                  options:
                    name: Travel Time to Work (Southdale)
              exclude:
                - state: "< 5"
  - title: Kitchen Tablet Thermostats
    icon: mdi:thermostat
    panel: true
    path: kitchen_thermostat
    cards:
      - type: custom:layout-card
        layout: grid
        min_columns: 4
        max_columns: 4
        cards:
          - name: Main Floor
            type: 'custom:simple-thermostat'
            entity: climate.lower
            control:
              hvac:
                off: true
                heat: true
                cool: true
                heat_cool: false
            gridcol: 1/3
            gridrow: 1
          - name: Upstairs
            type: 'custom:simple-thermostat'
            entity: climate.upper
            control:
              hvac:
                off: true
                heat: true
                cool: true
                heat_cool: false
            gridcol: 3/5
            gridrow: 1
          - name: Basement
            type: 'custom:simple-thermostat'
            entity: climate.basement
            control:
              hvac:
                off: true
                heat: true
                cool: true
                heat_cool: false
            gridcol: 2/4
            gridrow: 2
