- id: storage_alert
  alias: Storage Space is Low
  initial_state: 'on'
  trigger:
    - platform: numeric_state
      entity_id: sensor.disk_use_percent
      above: 80
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "Docker Disk Space"
        message: "Disk usage is at {{ trigger.to_state.state }}%"


- id: garage_freezer_temp_alert
  alias: Garage Freezer Temperature Alert
  initial_state: 'on'
  trigger:
    - platform: numeric_state
      entity_id: sensor.garage_freezer_temp
      above: 25
      for: '00:10:00'
    - platform: numeric_state
      entity_id: sensor.garage_freezer_temp
      above: 32
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "Garage Freezer"
        message: "Garage freezer temperature is {{ trigger.to_state.state }} °F"


- id: garage_fridge_temp_alert
  alias: Garage Fridge Temperature Alert
  initial_state: 'on'
  trigger:
    - platform: numeric_state
      entity_id: sensor.garage_fridge_rolling_average_temperature
      above: 40
    - platform: numeric_state
      entity_id: sensor.garage_fridge_rolling_average_temperature
      below: 33.3
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "Garage Fridge"
        message: "Garage fridge temperature is {{ trigger.to_state.state }} °F"


- id: esphome_device_offline
  alias: ESPHome Device is Offline
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: 
        - binary_sensor.garage_fridge_status
        - binary_sensor.master_bed_status
        # - binary_sensor.patio_lights_status
      to: 'off'
      for: "00:00:30"
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "{{ trigger.to_state.name }}"
        message: "{{ trigger.to_state.name }} is offline"


- id: time_to_upgrade
  alias: "Time to Upgrade Home Assistant"
  initial_state: 'on'
  trigger:
    - platform: state
      entity_id: binary_sensor.time_to_upgrade
      to: 'on'
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "Time to Upgrade Home Assistant!"
        message: 'The current version is {{ states("sensor.current_version") }} and the latest version is {{ states("sensor.latest_version") }}'


- id: melissa_coming_home
  alias: "Melissa is Coming Home"
  initial_state: 'on'
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: device_tracker.melissa_phone_gps
        state: 'not_home'
      - condition: state
        entity_id: binary_sensor.presence_chris
        state: 'on'
  trigger:
    - platform: numeric_state
      entity_id: sensor.melissas_speed
      above: 15
  action:
    - service: notify.html5_chris_pixel_3
      data_template:
        title: "Melissa"
        message: "Melissa is on her way home??"
  
